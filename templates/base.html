{% load static %}
<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <!-- Icon e CSS comuns -->
    <link href="{% static 'intranet/img/core-img/favicon.ico' %}" rel="icon">
    <link href="{% static 'intranet/css/variaveis.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'intranet/css/base.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'intranet/css/navbar.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'intranet/css/footer.css' %}" rel="stylesheet" type="text/css">

    <!-- Bloco para complementos da head -->
    {% block extrahead %}
    {% endblock %}

    <title>Intranet Polipeças</title>
</head>
<body class="body-custom">

<header class="container">
    {% include 'partials/_navbar.html' %}
</header>
<main>
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url 'pagina_inicial' %}">Página Inicial</a></li>
                {% block breadcrumb %}
                {% endblock %}
            </ol>
        </nav>
        <div class="card card-custom"><!-- Bloco de conteudo das paginas -->
            <section class="mt-2 ms-2 pe-4 ps-4 pt-4">
                {% block content %}
                {% endblock %}
            </section>

        </div>
        {% include 'partials/_footer.html' %}
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
        crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"
        integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG"
        crossorigin="anonymous"></script>

{% block scripts %}
{% endblock %}

{% if user.is_authenticated is False %}
    <script> <!-- Validação de login -->
    {% if validacao.form_error %}
        const myModal = new bootstrap.Modal(document.getElementById('login-modal-id'))
        myModal.show()
    {% endif %}
    </script>
{% endif %} <!-- Script Login -->

{% if siteAssinatura %}
    <script src="{% static 'assinatura/js/jquery-ui.min.js' %}"></script>
    <link href="{% static 'assinatura/css/jquery-ui.min.css' %}" rel="stylesheet" type="text/css">
    <script>
        const dropdown_container = $('#dropdown-container-id')
        let width_padrao = dropdown_container.width()
        let height_padrao = dropdown_container.height()
        $("#pesquisar_assinatura").autocomplete({
            /* Popular lista de autocomplete */
            {#source: "{% url 'pesquisar_assinatura' %}",#}
            source: ["Abadia de Goiás", "Abadiânia", "Posse d'Abadia", "Acreúna", "Adelândia", "Água Fria de Goiás", "Mato Seco", "Água Limpa", "Águas Lindas de Goiás", "Alexânia", "Olhos D'Água", "Aloândia", "Alto Horizonte", "Alto Paraíso de Goiás", "São Jorge", "Alvorada do Norte", "Amaralina", "Americano do Brasil", "Amorinópolis", "Anápolis", "Goialândia", "Interlândia", "Joanápolis", "Souzânia", "Anhanguera", "Anicuns", "Capelinha", "Choupana", "Aparecida de Goiânia", "Nova Brasília", "Aparecida do Rio Doce", "Aporé", "Araçu", "Aragarças", "Aragoiânia", "Araguapaz", "Arenópolis", "Aruanã", "Aurilândia", "Avelinópolis", "Baliza", "Barro Alto", "Bela Vista de Goiás", "Roselândia", "Bom Jardim de Goiás", "Bom Jesus de Goiás", "Bonfinópolis", "Bonópolis", "Brazabrantes", "Britânia", "Buriti Alegre", "Buriti de Goiás", "Buritinópolis", "Cabeceiras", "Cachoeira Alta", "Cachoeira de Goiás", "Cachoeira Dourada", "Caçu", "Caiapônia", "Caldas Novas", "Caldazinha", "Campestre de Goiás", "Campinaçu", "Campinorte", "Colinaçu", "Campo Alegre de Goiás", "Campo Limpo de Goiás", "Campos Belos", "Campos Verdes", "Carmo do Rio Verde", "Castelândia", "Catalão", "Pires Belo", "Santo Antônio do Rio Verde", "Caturaí", "Cavalcante", "Ceres", "Cezarina", "Chapadão do Céu", "Cidade Ocidental", "Cocalzinho de Goiás", "Colinas do Sul", "Vila Borba", "Córrego do Ouro", "Corumbá de Goiás", "Corumbaíba", "Cristalina", "Campos Lindos", "Cristianópolis", "Crixás", "Auriverde", "Cromínia", "Cumari", "Damianópolis", "Damolândia", "Davinópolis", "Diorama", "Divinópolis de Goiás", "Doverlândia", "Edealina", "Edéia", "Estrela do Norte", "Faina", "Caiçara", "Jeroaquara", "Fazenda Nova", "Bacilândia", "Serra Dourada", "Firminópolis", "Flores de Goiás", "Santa Maria", "Formosa", "Bezerra", "Santa Rosa", "Juscelino Kubitschek", "Formoso", "Gameleira de Goiás", "Goianápolis", "Goiandira", "Goianésia", "Natinópolis", "Goiânia", "Vila Rica", "Goianira", "Goiás", "Buenolândia", "Calcilândia", "Davidópolis", "Águas de São João", "Uvá", "Goiatuba", "Marcianópolis", "Gouvelândia", "Guapó", "Guaraíta", "Guarani de Goiás", "Guarinos", "Heitoraí", "Hidrolândia", "Hidrolina", "Iaciara", "Inaciolândia", "Indiara", "Carlândia", "Inhumas", "Ipameri", "Cavalheiro", "Domiciano Ribeiro", "Ipiranga de Goiás", "Iporá", "Israelândia", "Piloândia", "Itaberaí", "Itaguari", "Itaguaru", "Itajá", "Itapaci", "Aparecida de Goiás", "Itapirapuã", "Jacilândia", "Itapuranga", "Cibele", "Diolândia", "Itarumã", "Olaria do Angico", "Itauçu", "Itumbiara", "Ivolândia", "Campolândia", "Jandaia", "Jaraguá", "Jataí", "Jaupaci", "Jesúpolis", "Joviânia", "Jussara", "Canadá", "Juscelândia", "São Sebastião do Rio Claro", "Lagoa Santa", "Leopoldo de Bulhões", "Luziânia", "Jardim Ingá", "Mairipotaba", "Mambaí", "Mara Rosa", "Marzagão", "Matrinchã", "Lua Nova", "Maurilândia", "Mimoso de Goiás", "Minaçu", "Cana Brava", "Mineiros", "Moiporá", "Messianópolis", "Monte Alegre de Goiás", "Montes Claros de Goiás", "Lucilândia", "Registro do Araguaia", "Aparecida do Rio Claro", "Ponte Alta do Araguaia", "Montividiu", "Montividiu do Norte", "Morrinhos", "Morro Agudo de Goiás", "Mossâmedes", "Mozarlândia", "Mundo Novo", "Mutunópolis", "Nazário", "Nerópolis", "Niquelândia", "São Luiz do Tocantins", "Tupiraçaba", "Vila Taveira", "Nova América", "Nova Aurora", "Nova Crixás", "Bandeirantes", "Nova Glória", "Nova Iguaçu de Goiás", "Nova Roma", "Nova Veneza", "Novo Brasil", "Novo Gama", "Novo Planalto", "Orizona", "Alto Alvorada", "Ouro Verde de Goiás", "Ouvidor", "Padre Bernardo", "Mariápolis e Taboquinha", "Monte Alto", "Trajanópolis", "Palestina de Goiás", "Palmeiras de Goiás", "Palmelo", "Palminópolis", "Panamá", "Paranaiguara", "Paraúna", "Perolândia", "Petrolina de Goiás", "Pilar de Goiás", "Piracanjuba", "Piranhas", "Pirenópolis", "Lagolândia", "Pires do Rio", "Planaltina", "Córrego Rico", "São Gabriel de Goiás", "Pontalina", "Porangatu", "Porteirão", "Portelândia", "Posse", "Professor Jamil", "Quirinópolis", "Rialma", "Castrinópolis", "Rianápolis", "Rio Quente", "Rio Verde", "Lagoa do Bauzinho", "Ouroana", "Riverlândia", "Rubiataba", "Valdelândia", "Sanclerlândia", "Santa Bárbara de Goiás", "Santa Cruz de Goiás", "Santa Fé de Goiás", "Santa Helena de Goiás", "Santa Isabel", "Cirilândia", "Santa Rita do Araguaia", "Santa Rita do Novo Destino", "Santa Rosa de Goiás", "Santa Tereza de Goiás", "Santa Terezinha de Goiás", "Santo Antônio da Barra", "Santo Antônio de Goiás", "Santo Antônio do Descoberto", "São Domingos", "São Francisco de Goiás", "São João da Paraúna", "São João d'Aliança", "Forte", "São Luís de Montes Belos", "Rosalândia", "São Luíz do Norte", "São Miguel do Araguaia", "São Miguel do Passa Quatro", "São Patrício", "São Simão", "Itaguaçu", "Senador Canedo", "Serranópolis", "Silvânia", "Simolândia", "Sítio d'Abadia", "Taquaral de Goiás", "Teresina de Goiás", "Terezópolis de Goiás", "Três Ranchos", "Trindade", "Trombas", "Turvânia", "Turvelândia", "Uirapuru", "Uruaçu", "Geriaçu", "Pau Terra", "Uruana", "Uruíta", "Uruceres", "Urutaí", "Valparaíso de Goiás", "Varjão", "Vianópolis", "Caraíba", "Vicentinópolis", "Vila Boa", "Vila Propício", "Assunção de Goiás"],
            minLength: 3,
            appendTo: "#search-form",
            select: function (event, ui) {
                /* Submeter formulário ao selecionar item da lista de autocomplete */
                $(this).val(ui.item.value)
                $("#search-form").submit();
                return false;
            },
            response: function (event, ui) {
                let maior_width = 0
                let maior_height = height_padrao

                $.each(ui.content, function (_, item) {
                    if (item.value.length > maior_width) {
                        maior_width = item.value.length
                    }
                })
                dropdown_container.css('min-width', width_padrao + maior_width)
                dropdown_container.css('min-height', maior_height + (30 * ui.content.length))
            },
            close: function () {
                dropdown_container.css('min-width', width_padrao)
                dropdown_container.css('min-height', height_padrao)
            }

        })
    </script>
{% endif %} <!-- Script AutoComplete -->

<!-- Bloco de Scripts -->

</body>

</html>